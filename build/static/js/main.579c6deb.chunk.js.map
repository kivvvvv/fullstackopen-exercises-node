{"version":3,"sources":["services/persons.js","components/Filter.js","components/FormField.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["baseUrl","fetchAll","Axios","get","then","response","data","create","newPerson","post","deleteOneById","id","delete","updateOnById","put","Filter","handleChange","searchKeyword","type","onChange","value","FormField","text","PersonForm","handleSubmit","handleNameChange","newName","handlePhoneNumberChange","newPhoneNumber","onSubmit","Persons","persons","onDeletePersonByIdClick","filter","person","name","toLowerCase","includes","map","key","number","onClick","App","useState","setPersons","setNewName","setNewPhoneNumber","setSearchKeyword","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","PersonService","fetchedPersons","className","event","target","preventDefault","window","confirm","find","updatedPerson","prevState","catch","reason","error","createdPerson","concat","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.579c6deb.chunk.js","sourcesContent":["import Axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nfunction fetchAll () {\n\treturn Axios.get(baseUrl)\n\t\t.then(response => response.data)\n}\n\nfunction create (newPerson) {\n\treturn Axios.post(baseUrl, newPerson)\n\t\t.then(response => response.data)\n}\n\nfunction deleteOneById (id) {\n\treturn Axios.delete(`${baseUrl}/${id}`)\n}\n\nfunction updateOnById (id, newPerson) {\n\treturn Axios.put(`${baseUrl}/${id}`, newPerson)\n\t\t.then(response => response.data)\n}\n\nexport default {\n\tfetchAll,\n\tcreate,\n\tdeleteOneById,\n\tupdateOnById\n}","import React from 'react'\n\nexport default function Filter ({handleChange, searchKeyword}) {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with<input type=\"text\" onChange={handleChange} value={searchKeyword}/>\n\t\t</div>\n\t)\n}\n","import React from 'react'\n\nexport default function FormField ({text, handleChange, value}) {\n\treturn (\n\t\t<div>\n\t\t\t{text}<input type=\"text\" onChange={handleChange} value={value}/>\n\t\t</div>\n\t)\n}","import React from 'react'\nimport FormField from './FormField'\n\nexport default function PersonForm ({handleSubmit, handleNameChange, newName, handlePhoneNumberChange, newPhoneNumber}) {\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\t\t\t<FormField text=\"name: \" handleChange={handleNameChange} value={newName} />\n\t\t\t<FormField text=\"number: \" handleChange={handlePhoneNumberChange} value={newPhoneNumber}/>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}","import React from 'react'\n\nexport default function Persons ({persons, searchKeyword, onDeletePersonByIdClick}) {\n\treturn (\n\t\t<div>\n\t\t\t{persons\n\t\t\t\t.filter(person => person.name.toLowerCase().includes(searchKeyword))\n\t\t\t\t.map(person => (\n\t\t\t\t\t<div key={person.id}>\n\t\t\t\t\t\t<span>{person.name} {person.number}</span>\n\t\t\t\t\t\t<button onClick={onDeletePersonByIdClick(person.id, person.name)}>delete</button>\n\t\t\t\t\t</div>\n\t\t\t\t))\n\t\t\t}\n\t\t</div>\n\t)\n}","import React, {useState, useEffect} from 'react'\n\nimport PersonService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nexport default function App () {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newPhoneNumber, setNewPhoneNumber] = useState('')\n\tconst [searchKeyword, setSearchKeyword] = useState('')\n\tconst [successMessage, setSuccessMessage] = useState(null)\n\tconst [errorMessage, setErrorMessage] = useState(null)\n\n\tuseEffect(() => {\n\t\tPersonService.fetchAll()\n\t\t\t.then(fetchedPersons => {\n\t\t\t\tsetPersons(fetchedPersons)\n\t\t\t})\n\t}, [])\n\n\tconst handleFormSubmit = event => {\n\t\tevent.preventDefault()\n\t\tsetErrorMessage('')\n\n\t\tconst newPerson = {\n\t\t\tname: newName,\n\t\t\tnumber: newPhoneNumber\n\t\t}\n\n\t\tif (persons.map(person => person.name).includes(newPerson.name)) {\n\t\t\tif (!window.confirm(`${newName} is already added to phonebook, replace the old number with a new on`)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst person = persons.find(person => person.name === newPerson.name)\n\t\t\tPersonService.updateOnById(person.id, newPerson)\n\t\t\t\t.then(updatedPerson => {\n\t\t\t\t\tsetPersons(prevState => prevState.map(person => (\n\t\t\t\t\t\tperson.id === updatedPerson.id ? updatedPerson : person\n\t\t\t\t\t)))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewPhoneNumber('')\n\t\t\t\t})\n\t\t\t\t.catch(reason => {\n\t\t\t\t\tsetErrorMessage(reason.response.data.error)\n\t\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tPersonService.create(newPerson)\n\t\t\t.then(createdPerson => {\n\t\t\t\tsetPersons(persons.concat(createdPerson))\n\t\t\t\tsetSuccessMessage(`Added ${createdPerson.name}`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetSuccessMessage(null)\n\t\t\t\t}, 5000)\n\t\t\t})\n\t\t\t.catch(reason => {\n\t\t\t\tsetErrorMessage(reason.response.data.error)\n\t\t\t})\n\n\t\tsetNewName('')\n\t\tsetNewPhoneNumber('')\n\t}\n\n\tconst handleSearchKeywordChange = event => {\n\t\tsetSearchKeyword(event.target.value.toLowerCase())\n\t}\n\n\tconst handleNameChange = event => {\n\t\tsetNewName(event.target.value)\n\t}\n\n\tconst handlePhoneNumberChange = event => {\n\t\tsetNewPhoneNumber(event.target.value)\n\t}\n\n\tconst handleDeletePersonByIdClick = (id, name) => () => {\n\t\tif (!window.confirm(`Delete ${name} ?`)) {\n\t\t\treturn\n\t\t}\n\n\t\tPersonService.deleteOneById(id)\n\t\t\t.then(() => {\n\t\t\t\tsetPersons(persons.filter(person => person.id !== id))\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tconst person = persons.find(person => person.id === id)\n\t\t\t\tsetPersons(prevState => prevState.filter(person => person.id !== id))\n\t\t\t\tsetErrorMessage(`Information of ${person.name} has been removed from server`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetErrorMessage(null)\n\t\t\t\t}, 5000)\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t{successMessage && (\n\t\t\t\t<div className=\"alert-message success\">{successMessage}</div>\n\t\t\t)}\n\t\t\t{errorMessage && (\n\t\t\t\t<div className=\"alert-message error\">{errorMessage}</div>\n\t\t\t)}\n\t\t\t<Filter\n\t\t\t\thandleChange={handleSearchKeywordChange}\n\t\t\t\tsearchKeyword={searchKeyword}/>\n\t\t\t<h2>add a new</h2>\n\t\t\t<PersonForm\n\t\t\t\thandleSubmit={handleFormSubmit}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tnewName={newName}\n\t\t\t\thandlePhoneNumberChange={handlePhoneNumberChange}\n\t\t\t\tnewPhoneNumber={newPhoneNumber}/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons\n\t\t\t\tpersons={persons}\n\t\t\t\tsearchKeyword={searchKeyword}\n\t\t\t\tonDeletePersonByIdClick={handleDeletePersonByIdClick}/>\n\t\t</div>\n\t)\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}